# Идея задачи: алгоритм Флойда–Уоршелла

Граф задан **матрицей весов** — квадратной таблицей `n × n`, где:
- `0` на диагонали означает отсутствие петли,
- `0` вне диагонали означает отсутствие ребра,
- положительное или отрицательное число обозначает вес ребра.

Алгоритм Флойда–Уоршелла позволяет найти **кратчайшие пути между всеми парами вершин**.  
Он работает с отрицательными весами, но **не допускает отрицательных циклов**.

## Преобразование входных данных

Матрица весов считывается из файла и проверяется:
- квадратность,
- нулевая диагональ,
- корректность значений.

По матрице формируются две таблицы:
1. **Матрица расстояний** — dist[i][j], длина кратчайшего пути.
2. **Матрица путей** — next[i][j], следующая вершина на пути i → j.

## Основная идея алгоритма

Алгоритм поочередно пытается улучшить путь между вершинами `i` и `j`,  
используя каждую вершину `k` как промежуточную:

`dist[i][j] = min(dist[i][j], dist[i][k] + dist[k][j])`


При каждом улучшении путей обновляется и матрица `next`.

Полный перебор троек `(i, j, k)` обеспечивает нахождение всех кратчайших расстояний.

## Восстановление пути

Если `next[i][j]` определён, то путь восстанавливается шагами:

`i -> next[i][j] -> next[next[i][j]][j] -> ... -> j`


Если в `dist[i][j] = ∞`, то пути не существует.

## Результаты работы программы

Программа выводит:

1. **Матрицу кратчайших расстояний** между всеми парами вершин.
2. **Матрицу переходов (next)**, показывающую направление движения.
3. По запросу пользователя — **кратчайший путь между двумя выбранными вершинами**
   и его длину.

Такое решение подходит для любых ориентированных и неориентированных графов без отрицательных циклов.